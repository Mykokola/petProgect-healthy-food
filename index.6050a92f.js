const e=document.querySelector(".caunt-calories-section-input"),t=async()=>{const t=await fetch(`https://api.edamam.com/api/food-database/v2/parser?app_id=548b5471&app_key=a8400ab0cc8505640d3ad8260901c1cc&ingr=${e.value}`);return await t.json()};function c(e){const{parsed:t}=e;if(t.length){const e=t[0].food,{image:c,nutrients:n,label:a}=e,{CHOCDF:o,ENERC_KCAL:i,FAT:r,PROCNT:s}=n;return`<img \n        width="305px" class="caunt-calories-result--img" src="${c}">\n        <h2 class="count-calories-result-titile">${a}</h2>\n        <p class="coutn-caliries-result--abaut">Protein:${Math.trunc(s)}</p>\n        <p class="coutn-caliries-result--abaut">Fat:${Math.trunc(r)}</p>\n        <p class="coutn-caliries-result--abaut">Energy:${Math.trunc(i)}</p>\n        <p class="coutn-caliries-result--abaut">Carbs:${Math.trunc(o)}</p>`}return'  <h2 class="count-calories-result-titile">Sorry, but I don\'t know such a product :(</h2>'}const n=document.querySelector(".choice-food-input");let a;const o=async()=>{if(n.value!==a){const e=await fetch(`https://api.edamam.com/api/recipes/v2?type=public&q=${n.value}&app_id=aa65fcc4&app_key=f3caedd0bc456a2c084050f824421aa6&imageSize=SMALL`),t=await e.json();return a=n.value,t}};function i(e){return e.map((e=>{e=e.recipe;const{label:t,ingredientLines:c,images:n}=e;return`<li class="choice-food-item">\n       <img src="${n.SMALL.url}" alt="">\n       <div>\n       <h3 class="choice-food-item--title">${t} </h3>\n       <p class="choice-food-item--paragraf">${c.join("")}</p>\n       <button type="button" class="choice-food-item--save-recipe-btn">Save the recipe</button>\n       </div>\n       </li>`})).join("")}localStorage.getItem("RECIP_SAVE")||localStorage.setItem("RECIP_SAVE",JSON.stringify({recipList:[]}));const r=document.querySelector(".count-calories-btn"),s=document.querySelector(".caunt-calories-result"),l=document.querySelector(".choice-food-button"),u=document.querySelector(".choice-food-list"),p=JSON.parse(localStorage.getItem("RECIP_SAVE")).recipList;let d=[];function h(e){let t=e.split(" ");return t.slice(t.indexOf("<h3"),t.indexOf("</h3>\n")).join(" ").replace('<h3 class="choice-food-item--title">',"")}p&&(d=[...p],console.log(d)),r.addEventListener("click",(e=>{e.preventDefault(),s.innerHTML="",t().then((e=>{s.insertAdjacentHTML("beforeend",c(e))}))})),l.addEventListener("click",(e=>{e.preventDefault(),o().then((e=>{e&&(u.innerHTML=""),u.insertAdjacentHTML("beforeend",i(e.hits))})).then((e=>{u.addEventListener("click",(e=>{e.preventDefault();let t=e.target.parentNode.parentNode.outerHTML;t=t.replace('<button type="button" class="choice-food-item--save-recipe-btn">Save the recipe</button>',""),"button"===e.target.type&&function(e,t){e=h(e);for(let c=0;c<t.length;c++)if(h(t[c])===e)return 0;return 1}(t,d)&&d.push(t),localStorage.setItem("RECIP_SAVE",JSON.stringify({recipList:d}))}))})).catch((e=>{console.log(e.message)}))}));
//# sourceMappingURL=index.6050a92f.js.map
